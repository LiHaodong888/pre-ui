{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4f6b\"],{\"5KvI\":function(e,t,r){},uVOl:function(e,t,r){\"use strict\";r.r(t);var s=r(\"wk8/\"),o={name:\"Register\",data:function(){var e=this;return{registerForm:{username:\"\",password:\"\",checkPass:\"\",phone:\"\",smsCode:\"\"},rules2:{username:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"},{pattern:/^[a-zA-Z0-9_]{4,8}$/,message:\"以字母开头，长度在4-8之间， 只能包含字符、数字和下划线\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:6,message:\"密码长度最少为6位\",trigger:\"blur\"},{validator:function(t,r,s){\"\"===r?s(new Error(\"请输入密码\")):(\"\"!==e.registerForm.checkPass&&e.$refs.ruleForm2.validateField(\"checkPass\"),s())},trigger:\"change\"}],checkPass:[{validator:function(t,r,s){\"\"===r?s(new Error(\"请再次输入密码\")):r!==e.registerForm.password?s(new Error(\"两次输入密码不一致!\")):s()},trigger:\"change\"}],phone:[{required:!0,message:\"请输入手机号\",trigger:\"blur\"},{validator:function(t,r,s){\"\"===r?s(new Error(\"请输入手机号码\")):e.checkMobile(r)?s():s(new Error(\"手机号码不合法\"))},trigger:\"change\"}],smsCode:[{validator:function(e,t,r){\"\"===t?r(new Error(\"请输入手机验证码\")):r()},trigger:\"change\"}]},buttonText:\"发送验证码\",isDisabled:!1,flag:!0}},methods:{sendCode:function(){var e=this,t=this.registerForm.phone;this.checkMobile(t)&&(console.log(t),Object(s.j)(t).then(function(t){if(200===t.data.code){e.$message({showClose:!0,message:\"发送成功，验证码有效期2分钟\",type:\"success\"});var r=60;if(e.buttonText=\"已发送\",e.isDisabled=!0,e.flag){e.flag=!1;var s=setInterval(function(){r--,e.buttonText=r+\" 秒\",0===r&&(clearInterval(s),e.buttonText=\"重新获取\",e.isDisabled=!1,e.flag=!0)},1e3)}}}))},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log(\"error submit!!\"),!1;Object(s.g)(t.registerForm).then(function(e){200===e.data.code?(t.$notify({title:\"成功\",message:\"注册账号成功,2秒后返回登录页面\",type:\"success\"}),setTimeout(function(){t.$router.push({path:\"/login\"})},2e3)):t.$message({type:\"error\",message:e.data.msg})})})},gotoLogin:function(){this.$router.push({path:\"/login\"})},checkMobile:function(e){return/^1[3456789]\\d{9}$/.test(e)}}},n=(r(\"zE4/\"),r(\"KHd+\")),i=Object(n.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",[r(\"div\",{staticClass:\"register-wrapper\"},[r(\"div\",{attrs:{id:\"register\"}},[e._m(0),e._v(\" \"),r(\"el-form\",{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{model:e.registerForm,\"status-icon\":\"\",rules:e.rules2,\"label-width\":\"0\"}},[r(\"el-form-item\",{attrs:{prop:\"username\"}},[r(\"el-input\",{attrs:{\"auto-complete\":\"off\",placeholder:\"输入用户名\"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,\"username\",t)},expression:\"registerForm.username\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"phone\"}},[r(\"el-input\",{attrs:{\"auto-complete\":\"off\",placeholder:\"请输入手机号\"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,\"phone\",t)},expression:\"registerForm.phone\"}})],1),e._v(\" \"),r(\"el-form-item\",{staticClass:\"code\",attrs:{prop:\"smsCode\"}},[r(\"el-input\",{staticStyle:{width:\"234px\"},attrs:{placeholder:\"验证码\"},model:{value:e.registerForm.smsCode,callback:function(t){e.$set(e.registerForm,\"smsCode\",t)},expression:\"registerForm.smsCode\"}}),e._v(\" \"),r(\"el-button\",{attrs:{type:\"primary\",disabled:e.isDisabled},on:{click:e.sendCode}},[e._v(e._s(e.buttonText))])],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"password\"}},[r(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\",placeholder:\"输入密码\"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,\"password\",t)},expression:\"registerForm.password\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"checkPass\"}},[r(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\",placeholder:\"确认密码\"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,\"checkPass\",t)},expression:\"registerForm.checkPass\"}})],1),e._v(\" \"),r(\"el-form-item\",[r(\"el-button\",{staticStyle:{width:\"100%\"},attrs:{type:\"primary\"},on:{click:function(t){e.submitForm(\"ruleForm2\")}}},[e._v(\"注册\")]),e._v(\" \"),r(\"p\",{staticClass:\"login\",on:{click:e.gotoLogin}},[e._v(\"已有账号？立即登录\")])],1)],1)],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"header\"},[t(\"img\",{attrs:{src:\"/favicon.ico\"}}),this._v(\" \"),t(\"p\",{staticClass:\"title\"},[this._v(\"Pre系统平台注册\")])])}],!1,null,\"70b64c80\",null);i.options.__file=\"register.vue\";t.default=i.exports},\"wk8/\":function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return o}),r.d(t,\"f\",function(){return n}),r.d(t,\"d\",function(){return i}),r.d(t,\"i\",function(){return a}),r.d(t,\"c\",function(){return u}),r.d(t,\"e\",function(){return c}),r.d(t,\"l\",function(){return l}),r.d(t,\"k\",function(){return d}),r.d(t,\"h\",function(){return m}),r.d(t,\"j\",function(){return p}),r.d(t,\"b\",function(){return f}),r.d(t,\"g\",function(){return g});var s=r(\"t3Un\");function o(e){return Object(s.a)({url:\"/user\",method:\"post\",data:e})}function n(e){return Object(s.a)({url:\"/user\",method:\"get\",params:e})}function i(e){return Object(s.a)({url:\"/user\",method:\"put\",data:e})}function a(e){return Object(s.a)({url:\"/user/\"+e,method:\"put\"})}function u(e){return Object(s.a)({url:\"/user/\"+e,method:\"delete\"})}function c(){return Object(s.a)({url:\"/user/info\",method:\"get\"})}function l(e){return Object(s.a)({url:\"/user/updatePass\",method:\"put\",params:e})}function d(e){return Object(s.a)({url:\"/user/updateEmail\",method:\"put\",params:e})}function m(e){return Object(s.a)({url:\"/user/sendMailCode\",method:\"post\",params:e})}function p(e){return Object(s.a)({url:\"/auth/sendCode/\"+e,method:\"post\"})}function f(e){return Object(s.a)({url:\"/bind\",method:\"post\",data:e})}function g(e){return Object(s.a)({url:\"/register\",method:\"post\",data:e})}},\"zE4/\":function(e,t,r){\"use strict\";var s=r(\"5KvI\");r.n(s).a}}]);","extractedComments":[]}