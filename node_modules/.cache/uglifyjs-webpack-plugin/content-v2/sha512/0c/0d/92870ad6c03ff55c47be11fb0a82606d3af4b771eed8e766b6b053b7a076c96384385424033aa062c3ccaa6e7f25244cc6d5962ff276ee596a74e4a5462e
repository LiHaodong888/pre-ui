{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-5027\"],{\"/gXl\":function(t,e,n){\"use strict\";n.d(e,\"d\",function(){return i}),n.d(e,\"b\",function(){return o}),n.d(e,\"c\",function(){return r}),n.d(e,\"e\",function(){return l}),n.d(e,\"a\",function(){return s});var a=n(\"t3Un\"),i=function(t){return Object(a.a)({url:\"/dept\",method:\"post\",data:t})},o=function(){return Object(a.a)({url:\"/dept\",method:\"get\"})},r=function(){return Object(a.a)({url:\"/dept/tree\",method:\"get\"})},l=function(t){return Object(a.a)({url:\"/dept\",method:\"put\",data:t})},s=function(t){return Object(a.a)({url:\"/dept/\"+t,method:\"delete\"})}},Kvs2:function(t,e,n){\"use strict\";n.r(e);var a=n(\"dv4G\"),i=n(\"nOKp\"),o=n(\"7Qib\"),r=n(\"/gXl\"),l={components:{PopupTreeInput:i.a},data:function(){return{tableData:[],keyword:\"\",title:\"\",dialogFormVisible:!1,formLabelWidth:\"120px\",isEditForm:!1,currentPage:1,pageSize:10,total:0,form:{id:0,jobName:\"\",deptId:1,sort:0,deptName:\"\"},deptData:[],deptTreeProps:{label:\"name\",children:\"children\"},dataRule:{jobName:[{required:!0,message:\"岗位名称不能为空\",trigger:\"blur\"}]},loading:!1}},created:function(){this.getJobList(),this.findDeptTree()},methods:{parseTime:o.b,getJobList:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append(\"page\",this.currentPage),e.append(\"pageSize\",this.pageSize),e.append(\"jobName\",this.keyword),Object(a.c)(e).then(function(e){t.loading=!1,t.tableData=e.data.data.jobList,t.total=e.data.data.total})},findDeptTree:function(){var t=this;Object(r.b)().then(function(e){t.deptData=e.data.data})},deptTreeCurrentChangeHandle:function(t){console.log(t),this.form.deptId=t.deptId,this.form.deptName=t.name},handleFind:function(){this.getJobList()},handleCurrentChange:function(t){this.currentPage=t,this.getJobList()},handleAdd:function(){this.dialogFormVisible=!0,this.title=\"增加岗位\",this.form={id:0,jobName:\"\",deptId:1,sort:0,deptName:\"\"},this.isEditForm=!1},handleEdit:function(t){this.dialogFormVisible=!0,this.isEditForm=!0,this.title=\"编辑岗位\",this.form=t},handleDelete:function(t){var e=this,n=this;this.$confirm(\"此操作将把角色删除, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(a.b)(t.id).then(function(t){200===t.data.code?(e.$message({type:\"success\",message:\"操作成功\"}),n.getJobList()):e.$message({type:\"error\",message:t.data.msg})})}).catch(function(){e.$message({type:\"info\",message:\"已取消删除\"})})},submitForm:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.isEditForm?Object(a.e)(t.form).then(function(e){200===e.data.code?(t.$message({type:\"success\",message:\"操作成功\"}),t.dialogFormVisible=!1,t.getJobList()):t.$message({type:\"error\",message:e.data})}):Object(a.a)(t.form).then(function(e){200===e.data.code?(t.$message({type:\"success\",message:\"操作成功\"}),t.dialogFormVisible=!1,t.getJobList()):t.$message({type:\"error\",message:e.data.msg})}))})}}},s=n(\"KHd+\"),d=Object(s.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",{staticClass:\"filter-container\",staticStyle:{margin:\"10px 0 10px 0\"}},[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入岗位名称\"},nativeOn:{keyup:function(e){return\"button\"in e||!t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?t.handleFind(e):null}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:\"keyword\"}}),t._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{size:\"mini\",type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleFind}},[t._v(\"查找\\n    \")]),t._v(\" \"),n(\"el-button\",{staticClass:\"filter-item\",attrs:{size:\"mini\",type:\"primary\",icon:\"el-icon-plus\"},on:{click:t.handleAdd}},[t._v(\"添加岗位\")])],1),t._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.tableData,size:\"mini\"}},[n(\"el-table-column\",{attrs:{type:\"selection\"}}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"序号\",width:\"60\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.$index+1))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"岗位名称\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.jobName))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"所属部门\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.deptName))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"排序\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.sort))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"创建时间\",width:\"160\",align:\"center\",prop:\"createTime\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(t.parseTime(e.row.createTime)))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",\"min-width\":\"150\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",icon:\"el-icon-edit\"},on:{click:function(n){t.handleEdit(e.row)}}},[t._v(\"编辑\")]),t._v(\" \"),n(\"el-button\",{attrs:{type:\"danger\",size:\"mini\",icon:\"el-icon-delete\"},on:{click:function(n){t.handleDelete(e.row)}}},[t._v(\"删除\")])]}}])})],1),t._v(\" \"),n(\"div\",{staticClass:\"block\"},[n(\"el-pagination\",{attrs:{\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:\"total, prev, pager, next, jumper\",total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"current-change\":t.handleCurrentChange}})],1),t._v(\" \"),n(\"el-dialog\",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[n(\"el-form\",{ref:\"form\",attrs:{model:t.form,rules:t.dataRule}},[n(\"el-form-item\",{attrs:{label:\"岗位名称\",\"label-width\":t.formLabelWidth,prop:\"jobName\"}},[n(\"el-input\",{attrs:{\"auto-complete\":\"off\",placeholder:\"请输入岗位名称\"},model:{value:t.form.jobName,callback:function(e){t.$set(t.form,\"jobName\",e)},expression:\"form.jobName\"}})],1),t._v(\" \"),n(\"el-form-item\",{attrs:{label:\"所属部门\",\"label-width\":t.formLabelWidth}},[n(\"popup-tree-input\",{attrs:{data:t.deptData,props:t.deptTreeProps,prop:t.form.deptName,\"node-key\":\"\"+t.form.deptId,\"current-change-handle\":t.deptTreeCurrentChangeHandle}})],1),t._v(\" \"),n(\"el-form-item\",{attrs:{label:\"排序\",\"label-width\":t.formLabelWidth}},[n(\"el-input-number\",{attrs:{\"controls-position\":\"right\",min:0,label:\"排序编号\"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,\"sort\",e)},expression:\"form.sort\"}})],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\"取 消\")]),t._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.submitForm}},[t._v(\"确 定\")])],1)],1)],1)},[],!1,null,null,null);d.options.__file=\"job.vue\";e.default=d.exports},dv4G:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return i}),n.d(e,\"c\",function(){return o}),n.d(e,\"e\",function(){return r}),n.d(e,\"b\",function(){return l}),n.d(e,\"d\",function(){return s});var a=n(\"t3Un\");function i(t){return Object(a.a)({url:\"/job\",method:\"post\",data:t})}function o(t){return Object(a.a)({url:\"/job\",method:\"get\",params:t})}function r(t){return Object(a.a)({url:\"/job\",method:\"put\",data:t})}function l(t){return Object(a.a)({url:\"/job/\"+t,method:\"delete\"})}function s(t){return Object(a.a)({url:\"/job/\"+t,method:\"get\"})}}}]);","extractedComments":[]}