{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-5027\"],{\"/gXl\":function(t,e,a){\"use strict\";a.d(e,\"c\",function(){return i}),a.d(e,\"b\",function(){return o}),a.d(e,\"d\",function(){return r}),a.d(e,\"a\",function(){return l});var n=a(\"t3Un\"),i=function(t){return Object(n.a)({url:\"/dept\",method:\"post\",data:t})},o=function(){return Object(n.a)({url:\"/dept\",method:\"get\"})},r=function(t){return Object(n.a)({url:\"/dept\",method:\"put\",data:t})},l=function(t){return Object(n.a)({url:\"/dept/\"+t,method:\"delete\"})}},Kvs2:function(t,e,a){\"use strict\";a.r(e);var n=a(\"dv4G\"),i=a(\"nOKp\"),o=a(\"7Qib\"),r=a(\"/gXl\"),l={components:{PopupTreeInput:i.a},data:function(){return{tableData:[],jobName:\"\",title:\"\",dialogFormVisible:!1,formLabelWidth:\"120px\",isEditForm:!1,currentPage:1,pageSize:10,total:0,form:{id:0,jobName:\"\",deptId:1,sort:0,deptName:\"\"},deptData:[],deptTreeProps:{label:\"name\",children:\"children\"},dataRule:{jobName:[{required:!0,message:\"岗位名称不能为空\",trigger:\"blur\"}]}}},created:function(){this.getJobList(),this.findDeptTree()},methods:{parseTime:o.b,getJobList:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append(\"page\",this.currentPage),e.append(\"pageSize\",this.pageSize),e.append(\"jobName\",this.jobName),Object(n.c)(e).then(function(e){t.loading=!1,t.tableData=e.data.data.jobList,t.total=e.data.data.total})},findDeptTree:function(){var t=this;Object(r.b)().then(function(e){200==e.data.code&&(t.deptData=e.data.data)})},deptTreeCurrentChangeHandle:function(t,e){console.log(t),this.form.deptId=t.deptId,this.form.deptName=t.name},handleFind:function(){this.getJobList()},handleCurrentChange:function(t){this.currentPage=t,this.getJobList()},handleAdd:function(){this.dialogFormVisible=!0,this.title=\"增加岗位\",this.form={id:0,jobName:\"\",deptId:1,sort:0,deptName:\"\"},this.isEditForm=!1},handleEdit:function(t){this.dialogFormVisible=!0,this.isEditForm=!0,this.title=\"编辑岗位\",this.form=t},handleDelete:function(t){var e=this,a=this;this.$confirm(\"此操作将把角色删除, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(n.b)(t.id).then(function(t){200==t.data.code?(e.$message({type:\"success\",message:\"操作成功\"}),a.getJobList()):e.$message({type:\"error\",message:t.data.msg})})}).catch(function(){e.$message({type:\"info\",message:\"已取消删除\"})})},submitForm:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.isEditForm?Object(n.e)(t.form).then(function(e){200==e.data.code?(t.$message({type:\"success\",message:\"操作成功\"}),t.dialogFormVisible=!1,t.getJobList()):t.$message({type:\"error\",message:e.data})}):Object(n.a)(t.form).then(function(e){200==e.data.code?(t.$message({type:\"success\",message:\"操作成功\"}),t.dialogFormVisible=!1,t.getJobList()):t.$message({type:\"error\",message:e.data.msg})}))})},dateFormat:function(t,e,a,n){return format(t[e.property])}}},s=a(\"KHd+\"),c=Object(s.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticClass:\"filter-container\",staticStyle:{margin:\"10px 0 10px 0\"}},[a(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请输入岗位名称\"},model:{value:t.jobName,callback:function(e){t.jobName=e},expression:\"jobName\"}}),t._v(\" \"),a(\"el-button\",{staticClass:\"filter-item\",attrs:{size:\"mini\",type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleFind}},[t._v(\"查找\\n    \")]),t._v(\" \"),a(\"el-button\",{staticClass:\"filter-item\",attrs:{size:\"mini\",type:\"primary\",icon:\"el-icon-plus\"},on:{click:t.handleAdd}},[t._v(\"添加岗位\")])],1),t._v(\" \"),a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,size:\"mini\"}},[a(\"el-table-column\",{attrs:{type:\"selection\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"序号\",width:\"60\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.$index+1))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"名称\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.jobName))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"所属部门\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.deptName))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"排序\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.sort))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"创建时间\",width:\"160\",align:\"center\",prop:\"createTime\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(t.parseTime(e.row.createTime)))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",\"min-width\":\"150\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{size:\"mini\",icon:\"el-icon-edit\"},on:{click:function(a){t.handleEdit(e.row)}}},[t._v(\"编辑\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"danger\",size:\"mini\",icon:\"el-icon-delete\"},on:{click:function(a){t.handleDelete(e.row)}}},[t._v(\"删除\")])]}}])})],1),t._v(\" \"),a(\"div\",{staticClass:\"block\"},[a(\"el-pagination\",{attrs:{\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:\"total, prev, pager, next, jumper\",total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"current-change\":t.handleCurrentChange}})],1),t._v(\" \"),a(\"el-dialog\",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[a(\"el-form\",{ref:\"form\",attrs:{model:t.form,rules:t.dataRule}},[a(\"el-form-item\",{attrs:{label:\"名称\",\"label-width\":t.formLabelWidth,prop:\"jobName\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:t.form.jobName,callback:function(e){t.$set(t.form,\"jobName\",e)},expression:\"form.jobName\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"部门\",\"label-width\":t.formLabelWidth}},[a(\"popup-tree-input\",{attrs:{data:t.deptData,props:t.deptTreeProps,prop:t.form.deptName,\"node-key\":\"\"+t.form.deptId,\"current-change-handle\":t.deptTreeCurrentChangeHandle}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"排序\",\"label-width\":t.formLabelWidth}},[a(\"el-input-number\",{attrs:{\"controls-position\":\"right\",min:0,label:\"排序编号\"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,\"sort\",e)},expression:\"form.sort\"}})],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\"取 消\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.submitForm}},[t._v(\"确 定\")])],1)],1)],1)},[],!1,null,null,null);c.options.__file=\"job.vue\";e.default=c.exports},dv4G:function(t,e,a){\"use strict\";a.d(e,\"a\",function(){return i}),a.d(e,\"c\",function(){return o}),a.d(e,\"e\",function(){return r}),a.d(e,\"b\",function(){return l}),a.d(e,\"d\",function(){return s});var n=a(\"t3Un\");function i(t){return Object(n.a)({url:\"/job\",method:\"post\",data:t})}function o(t){return Object(n.a)({url:\"/job\",method:\"get\",params:t})}function r(t){return Object(n.a)({url:\"/job\",method:\"put\",data:t})}function l(t){return Object(n.a)({url:\"/job/\"+t,method:\"delete\"})}function s(t){return Object(n.a)({url:\"/job/\"+t,method:\"get\"})}}}]);","extractedComments":[]}