(window.webpackJsonp=window.webpackJsonp||[]).push([["giHP"],{giHP:function(e,t,a){"use strict";a.r(t);var n=a("t3Un");var i={data:function(){return{tableData:[],title:"",dialogFormVisible:!1,formLabelWidth:"120px",isEditForm:!1,currentPage:1,pageSize:10,total:0,deptData:[],deptTreeProps:{label:"name",children:"children"},dataRule:{jobName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}]},loading:!1,queryTypeOptions:[{key:"gitee",display_name:"gitee"},{key:"github",display_name:"github"},{key:"qq",display_name:"qq"}],query:{providerId:"",value:""}}},created:function(){this.getSocialList()},methods:{parseTime:a("7Qib").b,getSocialList:function(){var e=this;this.loading=!0;var t=new URLSearchParams;t.append("current",this.currentPage),t.append("size",this.pageSize),""!==this.query.providerId&&(t.append("providerId",this.query.providerId),t.append("displayName",this.query.value)),function(e){return Object(n.a)({url:"/social",method:"get",params:e})}(t).then(function(t){e.loading=!1,e.tableData=t.data.data.records,e.total=t.data.data.total})},handleFind:function(){this.getSocialList()},handleCurrentChange:function(e){this.currentPage=e,this.getSocialList()},handleDelete:function(e){var t=this,a=this;this.$confirm("此操作将解绑社交登录账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=new URLSearchParams;i.append("userId",e.userId),i.append("providerId",e.providerId),function(e){return Object(n.a)({url:"/social/untied",method:"post",params:e})}(i).then(function(e){200===e.data.code?(t.$message({type:"success",message:"操作成功"}),a.getSocialList()):t.$message({type:"error",message:e.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消解绑账号"})})}}},l=a("KHd+"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container",staticStyle:{margin:"10px 0 10px 0"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"请输入社交账号名称内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFind(t):null}},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"类型",size:"small"},model:{value:e.query.providerId,callback:function(t){e.$set(e.query,"providerId",t)},expression:"query.providerId"}},e._l(e.queryTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:e.handleFind}},[e._v("查找")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"mini"}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"社交账号类型",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.providerId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"社交账号名称",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.displayName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"系统账号名称",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"头像",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.imageUrl,width:"40",height:"40"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"绑定时间",width:"160",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("解绑账号")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],1)],1)},[],!1,null,null,null);r.options.__file="social.vue";t.default=r.exports}}]);